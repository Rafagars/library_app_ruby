<% provide(:title, @user.name) %>
<div class="row">
  <aside class="col-md-4">
    <section class="user_info">
      <h1>
        <%= gravatar_for @user %>
        <%= @user.name %>
      </h1>
      <h5> Number of Books: <%= @user.books.count %> </h5>
    </section>
  </aside>
  <div class="col-md-8">
    <!--<button id="addBook" class="btn btn-primary center-block"> Add Book </button>-->
    <% if logged_in? %>
      <div id="bookForm">
        <%= render 'books/form', provide(:url, user_books_path(@user)) %>
      </div>
    <% end %>
  </div>
  <div class="col-md-12">
  <% if @user.books.any? %>
    <table class="table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <% if @current_user == @user %>
            <th>Edit</th>
            <th>Delete</th>
          <% end %>
        </tr>
      </thead>
      <tbody>
        <% @books.each do |book| %>
          <tr>
            <td><%= book.title %></td>
            <td><%= book.author %></td>
            <% if @current_user == @user %>
              <td><%= link_to "Edit", edit_user_book_path(user_id: @current_user.id, id: book.id) %></td>
              <td><%= link_to "", user_book_path(user_id: @current_user.id, id: book.id), method: :delete, class: "fas fa-trash" %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= will_paginate @books %>
  <% end %>
  </div>
</div>